<!DOCTYPE html>
<html>
<head>
	<title>Best Practices</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="">
	<link rel="shortcut icon" type='image/x-icon' href="/img/favicon.ico">
	<link rel="stylesheet" type="text/css" href="/docs/css/external/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="/docs/css/normalize.css">
	<link rel="stylesheet" type="text/css" href="/docs/css/font-awesome/css/font-awesome.min.css">

	<link rel="stylesheet" type="text/css" href="/docs/css/solarized_dark.css">
	<link rel="stylesheet" type="text/css" href="/docs/css/tutorials.css">
	<link rel="stylesheet" type="text/css" href="/docs/css/style.css">
	<link rel="stylesheet" type="text/css" href="/docs/css/toc.css">

	
		<link rel="stylesheet" href="/docs/{{site.baseurl}}/css/tutorials.css">
	
		<link rel="stylesheet" href="/docs/{{site.baseurl}}/css/solarized_dark.css">
	

	<!-- needed for tutorial specific css -->
	
</head>
<body>	
	

	<!--
	<div class="container" id="main-container">
		<div class="topNavbar">
			<div class="navbar-div" id="logo">
			<a class="logoLink" href="/">BIOJS</a>
			</div>
			<div class="navbar-div" id="navbar-links2">
				<li>
			
			</div>
		</div>
	-->


    <div id="biojs-menu">
<div class="Menu">
        <div class="list">
            <div class="logoDiv">
                <img src="/docs/img/logo.png" id="logoImg">
                <div class="logoDivName">BioContainers Edu.</div>
            </div>


        <span class="item-heading"> Basics </span>
			
	
				<a class="item " href="/docs/101/intro/">Intro</a>
			
	
				<a class="item " href="/docs/101/what_is_biocontainers/">BioContainers?</a>
			
	
				<a class="item " href="/docs/101/getting_started/">User Getting started</a>
			
	
				<a class="item " href="/docs/101/running-example/">BioContainer example</a>
			
	
				<a class="item " href="/docs/101/biocontainers-architecture/">BioContainers Architecture</a>
			
	
				<a class="item " href="/docs/101/biocontainers-registry/">Registry UI</a>
			
		

        <span class="item-heading"> Developer tutorial </span>
			
	
				<a class="item " href="/docs/developer-manual/biocotainers-dockerfile/">Dockerfile Template</a>
			
	
				<a class="item item-active" href="/docs/developer-manual/best-practices/">Best Practices</a>
			
	
				<a class="item " href="/docs/developer-manual/biocontainers-input-output/">Input/Outpout</a>
			
	
				<a class="item " href="/docs/developer-manual/deploy-dockerhub/">Deploy to DockerHub</a>
			
		

        <span class="item-heading"> BioContainers FAQS </span>
			
	
				<a class="item " href="/docs/faqs/docker-nutshell/">Docker in NutShell</a>
			
	
				<a class="item " href="/docs/faqs/manually-remove-dockerboot/">Remove boot2docker</a>
			
		

        <span class="item-heading"> Containers Examples </span>
			
	
				<a class="item " href="/docs/containers-examples/DIAUmpire/">DIA-Umpire</a>
			
	
				<a class="item " href="/docs/containers-examples/Comet/">Comet</a>
			
		

        <span class="item-heading"> Presentations </span>
			
	
				<a class="item " href="/docs/presentations/presentations/">Presentations</a>
			
		
    </div>
</div>

	</div>

	<div id="biojs-main-content">
		
		<div class="heading row">

  <div class="col-md-6 col-xs-7 col-lg-5" id="contentTitleCell">
	  <span class="contentTitle">Best Practices </span>

	  <a class="gitStar" style="width:150px;" href="https://github.com/biocontainers/edu/blob/master/series/developer-manual/20_best-practices.md" target="_blank"><span class="glyphicon glyphicon-pencil" style="font-size:14px;" ></span> Improve this page</a>
  </div>

	<div class="col-xs-2 col-md-3">
		<div id="biojs-iconnav-glyphs">
	  <a class="git" href="https://github.com/biocontainers/" target="_blank"><i class="fa fa-github-alt"></i></a>

	  <a class="git"  href="http://biocontainers.pro" target="_blank"><i class="fa fa-home"></i></a>
	  <a class="git hidden-xs hidden-sm" href="https://kiwiirc.com/client/irc.freenode.net/biocontainers" target="_blank"><i class="fa fa-weixin"></i></a>
	  <a class="git hidden-xs hidden-sm" id="bookmark-link" href="#"><i class="fa fa-bookmark"></i></a>

  </div>

<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function() {
    $('#bookmark-link').click(function() {
        if (window.sidebar && window.sidebar.addPanel) { // Mozilla Firefox Bookmark
            window.sidebar.addPanel(document.title,window.location.href,'');
        } else if(window.external && ('AddFavorite' in window.external)) { // IE Favorite
            window.external.AddFavorite(location.href,document.title);
        } else if(window.opera && window.print) { // Opera Hotlist
            this.title=document.title;
            return true;
        } else { // webkit - safari/chrome
            alert('Press ' + (navigator.userAgent.toLowerCase().indexOf('mac') != - 1 ? 'Command/Cmd' : 'CTRL') + ' + D to bookmark this page.');
        }
    });
});
</script>

	  <a class="gitStar hidden-xs hidden-sm" style="width:150px;" id="biojs-iconnav-help" href="https://gitter.im/biocontainers/Lobby" target="_blank"><span class="glyphicon glyphicon-bullhorn" style="font-size:17px;" ></span> Get help</a>

  </div>
  <div class="col-md-2 col-lg-2 hidden-xs hidden-sm" id="social-media-share">

    <!-- share it: twitter, google -->
    <div style="height:25px"> <a href="https://twitter.com/share" class="twitter-share-button" style="width: 40px">Tweet</a>

      <script>
        ! function(d, s, id) {
                var js, fjs = d.getElementsByTagName(s)[0],
                    p = /^http:/.test(d.location) ? 'http' : 'https';
                if (!d.getElementById(id)) {
                    js = d.createElement(s);
                    js.id = id;
                    js.src = p + '://platform.twitter.com/widgets.js';
                    fjs.parentNode.insertBefore(js, fjs);
                }
            }(document, 'script', 'twitter-wjs');
      </script>
      <script src="https://apis.google.com/js/platform.js" async defer></script>
	  <div class="share-google-button">
      	<div class="g-plus" data-action="share" data-annotation="bubble"
      data-align="right"></div>
	  </div>
    </div>

    </div>


    <div class="author col-md-2 col-xs-2 hidden-xs">
			<div class="tutorial-item"><span class="glyphicon glyphicon-calendar" style="font-size:14px;margin-bottom: 2px;"></span> 03 Feb 2017</div>
	        
			
	        <div class="tutorial-item"><span class="glyphicon glyphicon-time" style="font-size:14px;margin-bottom: 2px;"></span> 5 minutes </div>
	        
	</div>

</div>

<div class="pullButton pullButton-mob">
	<i class="fa fa-bars fa-2x"></i>
</div>


<div class="containerBody">
	<!--
    <div class="leftPanel">

		

    </div>
	-->
    <div class="rightPanel">



        <div class="static-content">

            <div id="explanation" style="display:none">
                <div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-check" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>We will use this icon to mark check points.
A check point is a way for you to check how you are doing.</p>
</div></div></div>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-minus-sign" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>For most of the steps in this tutorial we will
provide the code as it should look after the task. It is tempting, we
know, but please, please, do not go for the “copy&amp;paste” way.</p>
</div></div></div>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-road" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>We will use this icon to challenge you
with additional code-related tasks so you can go further at your own
pace. No inline answer will be provide for those challenges but we will
give you some guidelines and tips. By the way, within the instructions
we will use <em>an italic font</em> to refer to variables and pieces of code.</p>
</div></div></div>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-bell" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>We will use this icon to ask you some questions related to the task your are working on.</p>
</div></div></div>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-info-sign" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>Additional info and resources - this is not essential to complete the tutorial, but very interesting.</p>
</div></div></div>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-gift" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>Tips that might help you on this task.</p>
</div></div></div>

<div style="display:block"><div class="tutorials-highlight" style="display:block;"><span class="glyphicon glyphicon-hand-up" style="float:left;display:block;margin-right:20px"></span><div class="tutorials-highlight-text">
<p>If you are following this tutorial as part of a workshop, do not hesitate to
raise your hand and share any questions or comments you may have.
If you are doing it by your own, you still can raise your hand in our
mailing list, just join our <a href="https://groups.google.com/forum/#!forum/biojs">Google Group</a>.</p>
</div></div></div>


            </div>

            <div class="clearfix"> </div>

<!--

-->
            <h1 id="best-practices">Best Practices</h1>

<h2 id="language-specific">Language Specific</h2>

<h3 id="python">Python</h3>

<ul>
  <li>Use requirements.txt instead of listing dependencies</li>
  <li>Define library versions</li>
</ul>

<h2 id="optimization">Optimization</h2>

<ul>
  <li>Use environment variables to avoid repeating yourself</li>
</ul>

<p>This is a trick I picked up from reading the Dockerfile (link) of the “official” node.js docker image. As an aside, this Dockerfile is great. My only criticism is that it sits on top of a huge buildpack-deps (link) image, with all sorts of things I don’t want or need.</p>

<p>You can define environment variables with ENV and then reference them in subsequent RUN commands. Below, I’ve paraphrased an excerpt from the linked Dockerfile:</p>

<pre><code>
ENV NODE_VERSION 0.10.32

RUN curl -SLO "http://nodejs.org/dist/v$NODE_VERSION/node-v$NODE_VERSION-linux-x64.tar.gz" &amp;&amp; \
    tar -xzf "node-v$NODE_VERSION-linux-x64.tar.gz" -C /usr/local --strip-components=1 &amp;&amp; \
    rm "node-v$NODE_VERSION-linux-x64.tar.gz"
</code></pre>

<ul>
  <li>Merge RUN commands:</li>
</ul>

<p>instead of running:</p>

<pre><code>RUN acb
RUN cbd
RUN bde
</code></pre>

<p>run:
~~~
RUN acb &amp;&amp; cbd &amp;&amp; bde
~~~</p>

<p>or:</p>

<pre><code>RUN acb &amp;&amp; \
    cbd &amp;&amp; \
    bde
</code></pre>

<ul>
  <li>Whenever possible, reuse the same base image and use a LTS (Long Term Support) image preferably (Ubuntu 12.04 or 14.04)</li>
  <li>You can use our biocontainers/biocontainers image based on ubuntu 14.04 with frequent updates and default folders created</li>
  <li>Use a .dockerignore file: In most cases, it’s best to put each Dockerfile in an empty directory. Then, add to that directory only the files needed for building the Dockerfile. To increase the build’s performance, you can exclude files and directories by adding a .dockerignore file to that directory as well. This file supports exclusion patterns similar to .gitignore files. For information on creating one, see the .dockerignore file.</li>
  <li>Avoid installing unnecessary packages: In order to reduce complexity, dependencies, file sizes, and build times, you should avoid installing extra or unnecessary packages just because they might be “nice to have.” For example, you don’t need to include a text editor in a database image.</li>
  <li>Run only one process per container: In almost all cases, you should only run a single process in a single container. Decoupling applications into multiple containers makes it much easier to scale horizontally and reuse containers. If that service depends on another service, make use of container linking.</li>
  <li>Minimize the number of layers: You need to find the balance between readability (and thus long-term maintainability) of the Dockerfile and minimizing the number of layers it uses. Be strategic and cautious about the number of layers you use.</li>
  <li>Sort multi-line arguments: Whenever possible, ease later changes by sorting multi-line arguments alphanumerically. This will help you avoid duplication of packages and make the list much easier to update. This also makes PRs a lot easier to read and review. Adding a space before a backslash () helps as well.</li>
</ul>

<p>Here’s an example from the buildpack-deps image:</p>

<pre><code>RUN apt-get update &amp;&amp; apt-get install -y \
    bzr \
    cvs \
    git \
    mercurial \
    subversion
</code></pre>

<blockquote>
  <p>Note: Don’t install build tools without good reason: 
Build tools take up a lot of space, and building from source is often slow. If you’re just installing somebody else’s software, it’s usually not necessary to build from source and it should be avoided. For instance, it is not necessary to install python, gcc, etc. to get the latest version of node.js up and running on a Debian host. There is a binary tarball available on the node.js downloads page. Similarly, redis can be installed through the package manager.</p>
</blockquote>

<p>There are at least a few good reasons to have build tools:</p>

<ul>
  <li>you need a specific version (e.g. redis is pretty old in the Debian repositories).</li>
  <li>you need to compile with specific options.</li>
  <li>you will need to npm install (or equivalent) some modules which compile to binary.</li>
</ul>

<p>In the second case, think really hard about whether you should be doing that. In the third case, I suggest installing the build tools in another “npm installer” image, based on the minimal node.js image.</p>

<p>Don’t leave temporary files lying around</p>

<p>The following Dockerfile results in an image size of 109 MB:</p>

<pre><code>FROM debian:wheezy
RUN apt-get update &amp;&amp; apt-get install -y wget
RUN wget http://cachefly.cachefly.net/10mb.test
RUN rm 10mb.test
</code></pre>

<p>On the other hand, this seemingly-equivalent Dockerfile results in an image size of 99 MB:</p>

<pre><code>FROM debian:wheezy
RUN apt-get update &amp;&amp; apt-get install -y wget
RUN wget http://cachefly.cachefly.net/10mb.test &amp;&amp; rm 10mb.test
</code></pre>

<p>Thus it seems that if you leave a file on disk between steps in your Dockerfile, the space will not be reclaimed when you delete the file. It is also often possible to avoid a temporary file entirely, just piping output between commands. For instance,</p>

<pre><code>wget -O - http://nodejs.org/dist/v0.10.32/node-v0.10.32-linux-x64.tar.gz | tar zxf -
</code></pre>

<ul>
  <li>Clean up after the package manager</li>
</ul>

<p>If you run apt-get update in setting up your container, it populates /var/lib/apt/lists/ with data that’s not needed once the image is finalized. You can safely clear out that directory to save a few megabytes.</p>

<p>This Dockerfile generates a 99 MB image:</p>

<pre><code>FROM debian:wheezy
RUN apt-get update &amp;&amp; apt-get install -y wget
</code></pre>

<p>while this one generates a 90 MB image:</p>

<pre><code>FROM debian:wheezy
RUN apt-get update &amp;&amp; apt-get install -y wget &amp;&amp; apt-get clean &amp;&amp; apt-get purge &amp;&amp; rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*
</code></pre>

<ul>
  <li>Pin package versions</li>
</ul>

<p>While a docker image is immutable (and that’s great), a Dockerfile is not guaranteed to produce the same output when run at different times. The problem, of course, is external state, and we have little control over it. It’s best to minimize the impact of external state on your Dockerfile to the extent that it’s possible. One simple way to do that is to pin package versions when updating through a package manager. Here’s an example of how to do that:</p>

<pre><code># apt-get update
# apt-cache showpkg redis-server
Package: redis-server
Versions:
2:2.4.14-1
# apt-get install redis-server=2:2.4.14-1
</code></pre>

<ul>
  <li>Map log files outside</li>
</ul>

<h2 id="general">General</h2>

<ul>
  <li>ADD vs COPY: Both ADD and COPY adds local files when building a container but ADD does some additional magic like adding remote files and ungzipping and untaring archives. Only use ADD if you understand this difference.</li>
  <li>WORKDIR and ENV: Each command will create a new temporary image and runs in a new shell hence if you do a cd <directory> or export <var>=<value> in your Dockerfile it won't work. Use WORKDIR to set your working directory across multiple commands and ENV to set environment variables.</value></var></directory></li>
  <li>CMD and ENTRYPOINT: CMD is the default command to execute when an image is run. The default ENTRYPOINT is /bin/sh -c and CMD is passed into that as an argument. We can override ENTRYPOINT in our Dockerfile and make our container behave like an executable taking command line arguments (with default arguments in CMD in our Dockerfile).</li>
  <li>ADD your code last: ADD invalidates your cache if files have changed. Don’t invalidate the cache by adding frequently changing stuff too high up in your Dockerfile. Add your code last, libraries and dependencies first. For node.js apps that means adding your package.json first, running npm install and only then adding your code.</li>
  <li>USER in Dockerfiles: By default docker runs everything as root but you can use USER in Dockerfiles. There’s no user namespacing in docker so the container sees the users on the host but only uids hence you need the add the users in the container.</li>
  <li>CMD: The CMD instruction should be used to run the software contained by your image, along with any arguments. CMD should almost always be used in the form of CMD [“executable”, “param1”, “param2”…]. Thus, if the image is for a service (Apache, Rails, etc.), you would run something like CMD [“apache2”,”-DFOREGROUND”]. Indeed, this form of the instruction is recommended for any service-based image.</li>
  <li>ENV: In order to make new software easier to run, you can use ENV to update the PATH environment variable for the software your container installs. For example, ENV PATH /usr/local/nginx/bin:$PATH will ensure that CMD [“nginx”] just works. The ENV instruction is also useful for providing required environment variables specific to services you wish to containerize, such as Postgres’s PGDATA.</li>
  <li>USER: If a service can run without privileges, use USER to change to a non-root user. Start by creating the user and group in the Dockerfile with something like </li>
</ul>

<pre><code>RUN groupadd -r postgres &amp;&amp; useradd -r -g postgres postgres.
</code></pre>

<blockquote>
  <p>Note: Users and groups in an image get a non-deterministic UID/GID in that the “next” UID/GID gets assigned regardless of image rebuilds. So, if it’s critical, you should assign an explicit UID/GID.
You should avoid installing or using sudo since it has unpredictable TTY and signal-forwarding behavior that can cause more problems than it solves. If you absolutely need functionality similar to sudo (e.g., initializing the daemon as root but running it as non-root), you may be able to use “gosu”.</p>
</blockquote>

<p>Lastly, to reduce layers and complexity, avoid switching USER back and forth frequently.</p>

<ul>
  <li>WORKDIR: For clarity and reliability, you should always use absolute paths for your WORKDIR. Also, you should use WORKDIR instead of proliferating instructions like RUN cd … &amp;&amp; do-something, which are hard to read, troubleshoot, and maintain.</li>
</ul>

<h2 id="volumes">Volumes</h2>

<ul>
  <li>Should always map to the same /data and /config folders</li>
  <li>Should be RW (read/write) unless there’s a good reason not to</li>
  <li>Config and Log files can be mapped to the host but should preferentially be symbolically linked to the /data or /config folder</li>
  <li>Additional mappings can be created if necessary</li>
</ul>

<h2 id="images">Images</h2>

<ul>
  <li>Images should be based on the latest LTS image available (Ubuntu 12.04 and 14.04) or to one of our images</li>
</ul>

<h2 id="sources-and-useful-links">Sources and Useful Links</h2>

<ul>
  <li><a href="https://github.com/veggiemonk/awesome-docker#optimizing-images">https://github.com/veggiemonk/awesome-docker#optimizing-images</a></li>
  <li><a href="https://labs.ctl.io/optimizing-docker-images/?hvid=1OW0br">https://labs.ctl.io/optimizing-docker-images/?hvid=1OW0br</a></li>
  <li><a href="https://docs.docker.com/articles/dockerfile_best-practices/">https://docs.docker.com/articles/dockerfile_best-practices/</a></li>
  <li><a href="http://csaba.palfi.me/random-docker-tips/">http://csaba.palfi.me/random-docker-tips/</a></li>
  <li><a href="https://docs.docker.com/articles/dockerfile_best-practices/">https://docs.docker.com/articles/dockerfile_best-practices/</a></li>
  <li><a href="http://jonathan.bergknoff.com/journal/building-good-docker-images">http://jonathan.bergknoff.com/journal/building-good-docker-images</a></li>
</ul>


           <div id="lower-link-box" class="link-box">
				
				<a href="/docs/developer-manual/biocotainers-dockerfile/" class="btn btn-primary previous-link">Previous</a>
				
				
					<a href="/docs/developer-manual/biocontainers-input-output/" class="btn btn-primary next-link pull-right">Next</a>
				

				<br />
			</div>

		</div>
	</div>

<!-- temporaroy removed

-->

<script>
document.addEventListener("DOMContentLoaded", function() {
	// load highlighted code blocks
    $('pre code').each(function(i, block) {
      hljs.highlightBlock(block);
    });
	jQuery(".collapsible").each(function(i,e){
		collapseStuff(e,"Hide the code", "Display the code");
	});
	/*
	DO NOT show the explanation
	collapseStuff("#explanation","Hide the icon explanation", "Display the icon explanation");
	jQuery("#explanation").css("display", "block");
	*/
});
function collapseStuff(e, textHidden, textDisplayed){
	var divHigh = $(e);
	var children = divHigh.children();
	children.hide();
	var toggleBox = document.createElement("div");
	toggleBox.className = "tutorials-togglebox";
	divHigh.prepend(toggleBox);
	var awesomeIcon = document.createElement("span");
	var awesomeText= document.createElement("span");
	awesomeIcon.className = "tutorials-togglebox-icon glyphicon glyphicon-chevron-down";
	awesomeText.textContent = "Display the code";
	awesomeText.className = "tutorials-togglebox-text";
	toggleBox.appendChild(awesomeIcon);
	toggleBox.appendChild(awesomeText);
	awesomeText.textContent = textDisplayed;
	$(toggleBox).click(function(){
		var codeBox = children;
		var text = divHigh.children().first();
		if( codeBox.css("display") == "none" ){
			codeBox.show(700);
			awesomeText.textContent = textHidden;
			awesomeIcon.className = "tutorials-togglebox-icon glyphicon glyphicon-chevron-up";
		}else{
			codeBox.hide(500);
			awesomeText.textContent = textDisplayed;
			awesomeIcon.className = "tutorials-togglebox-icon glyphicon glyphicon-chevron-down";
		}
	});
};
</script>

<script src="/docs/js/highlight.min.js"></script>

	</div>
		
		</div>
		<!--
		<div class="footer">
			<div class="improve-this-page">
				<span class="glyphicon glyphicon-pencil"></span> <a href="https://github.com/biojs/edu/blob/master/series/developer-manual/20_best-practices.md">Improve this page</a>
			</div>

			<div id="privacy-notice-less" class="privacy-policy">
				Privacy Policy.
			</div>
			<div id="privacy-notice-more"  class="privacy-policy" style="display:none">
				This website uses Google Analytics to collect anonymous visiting stats.<br />
				By visiting this site you agree to the <a href="https://www.google.com/analytics/terms/us.html">data processing agreement</a> by Google.<br />
				If you do not agree, <a href="http://www.usa.gov/optout-instructions.shtml">opt out</a>.
			</div>
		
		</div>
		-->


	<script type="text/javascript" src="/docs/js/jquery.min.js"></script>
	<script type="text/javascript" src="/docs/js/highlight.min.js"></script>
	<script type="text/javascript" src="/docs/js/jquery-scrollspy.js"></script>
	<script type="text/javascript" src="/docs/js/bottom.js"></script>
	<script type="text/javascript" src="/docs/js/bootstrap.min.js"></script>

			<script type="text/javascript">
	        $(document).ready(function() {
        			$('.color').each(function(i) {
        				var position = $(this).position();
        				console.log(position);
        				console.log('min: ' + position.top + ' / max: ' + parseInt(position.top + $(this).height()));
        				$(this).scrollspy({
        					min: position.top,
        					max: position.top + $(this).height(),
        					onEnter: function(element, position) {
        						if(console) console.log('entering ' +  element.id);
        						$("body").css('background-color', element.id);
        					},
        					onLeave: function(element, position) {
        						if(console) console.log('leaving ' +  element.id);
        					//	$('body').css('background-color','#eee');
        					}
        				});
        			});
        		});
        	</script>
	<script type="text/javascript">

		/*
		$(window).scroll(function(){
    		$(".topNavbar").css({"top": ($(window).scrollTop()) + "px"});        
    		if ($(window).scrollTop() > 140){
	    		$(".leftPanel").css({"top": ($(window).scrollTop()) -140 + "px"});
			}
    	});
    	*/

		$('.pullButton').click(function(e){
			$("#biojs-menu").css("display","block");
			$("#biojs-main-content").css("margin-left","220px");
			$(".pullButton").removeClass("pullButton-mob");
			e.stopPropagation();
			return false;
		});

		$(window).click(function(){
			closeMenu();
		});
		$('.Menu').click(function(){
			closeMenu();
		});

		function closeMenu(){
			if(isMobile()){
				$("#biojs-menu").css("display","none");
				$(".pullButton").addClass("pullButton-mob");
				$("#biojs-main-content").css("margin-left","0px");
			}
		}
		function isMobile(){
			return $(window).width() <= 600;
		}

	</script>


	


	<script>hljs.initHighlightingOnLoad();</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51509688-5', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
